C51 COMPILER V9.60.7.0   TIME                                                              06/23/2024 20:18:36 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE TIME
OBJECT MODULE PLACED IN .\Objects\time.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE App\time.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\Public;.\App) DEBUG OBJECTE
                    -XTEND PRINT(.\Listings\time.lst) OBJECT(.\Objects\time.obj)

line level    source

   1          #include "time.h"
   2          #include "key.h"
   3          #include "smg.h"
   4          
   5          u8 times[8] = {0,0,0,0,0,0,0,0};                   //用于存储时间的值
   6          
   7          u8 press_number = 0;                        //保存按键按下的次数
   8          
   9          void time_change_mode0(){                      //时间进位
  10   1          u8 i;
  11   1          times[7]++;
  12   1          for(i=7;i>0;i--){
  13   2              if(i==2 || i==4 ){
  14   3                  if(times[i] == 6){
  15   4                      times[i-1]++;
  16   4                      times[i] = 0;
  17   4                  }
  18   3              }
  19   2              else{
  20   3                  if(times[i] == 10){
  21   4                      times[i-1]++;
  22   4                      times[i] = 0;
  23   4                  }
  24   3              }
  25   2          }
  26   1      }
  27          
  28          void key(){
  29   1          u8 key_value = key_scan();               //按键键值
  30   1          if(key_value == 1){
  31   2              if(press_number == 0){
  32   3                  TF0 = 0;
  33   3                  TR0 = 1;
  34   3                  press_number++;
  35   3              }
  36   2              else if(press_number == 1){
  37   3                  TF0 = 0;
  38   3                  TR0 = 0;
  39   3                  press_number++;
  40   3              }
  41   2              else if(press_number == 2){
  42   3                  u8 j;
  43   3                  for(j=0;j<8;j++){
  44   4                      times[j] = 0;
  45   4                      TF0 = 0;
  46   4                  }
  47   3                  press_number = 0;
  48   3              }
  49   2          }
  50   1          else if(key_value == 1);
  51   1      }
  52          
  53          void show(){
  54   1          smg(times);
C51 COMPILER V9.60.7.0   TIME                                                              06/23/2024 20:18:36 PAGE 2   

  55   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    113    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      9       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
